{"version":3,"file":"preact-compat.js","sources":["../src/util/env.js","../src/compat/index.js"],"sourcesContent":["export const inBrowser = typeof window !== 'undefined';\r\nexport const UA = inBrowser && window.navigator.userAgent.toLowerCase();\r\nexport const isIE8 = UA && UA.indexOf('msie 8.0') > 0;","import PropTypes from 'prop-types';\r\nimport { render as preactRender, cloneElement as preactCloneElement, h, Component as PreactComponent, options } from 'preact';\r\n\r\nimport { isIE8 } from '../util/env';\r\n\r\nconst version = '15.1.0'; // trick libraries to think we are react\r\n\r\nconst ELEMENTS = 'a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan'.split(' ');\r\n\r\nconst REACT_ELEMENT_TYPE = (typeof Symbol!=='undefined' && Symbol['for'] && Symbol['for']('react.element')) || 0xeac7;\r\n\r\nconst COMPONENT_WRAPPER_KEY = typeof Symbol!=='undefined' ? Symbol['for']('__preactCompatWrapper') : '__preactCompatWrapper';\r\n\r\n// don't autobind these methods since they already have guaranteed context.\r\nconst AUTOBIND_BLACKLIST = {\r\n\tconstructor: 1,\r\n\trender: 1,\r\n\tshouldComponentUpdate: 1,\r\n\tcomponentWillReceiveProps: 1,\r\n\tcomponentWillUpdate: 1,\r\n\tcomponentDidUpdate: 1,\r\n\tcomponentWillMount: 1,\r\n\tcomponentDidMount: 1,\r\n\tcomponentWillUnmount: 1,\r\n\tcomponentDidUnmount: 1\r\n};\r\n\r\n\r\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;\r\n\r\n\r\nconst BYPASS_HOOK = {};\r\n\r\n/*global process*/\r\nconst DEV = typeof process==='undefined' || !process.env || process.env.NODE_ENV!=='production';\r\n\r\n// a component that renders nothing. Used to replace components for unmountComponentAtNode.\r\nfunction EmptyComponent() { return null; }\r\n\r\n\r\n\r\n// make react think we're react.\r\nlet VNode = h('a', null).constructor;\r\nVNode.prototype.$$typeof = REACT_ELEMENT_TYPE;\r\nVNode.prototype.preactCompatUpgraded = false;\r\nVNode.prototype.preactCompatNormalized = false;\r\n\r\nif (!isIE8) {\r\n\tObject.defineProperty(VNode.prototype, 'type', {\r\n\t\tget() { return this.nodeName; },\r\n\t\tset(v) { this.nodeName = v; },\r\n\t\tconfigurable:true\r\n\t});\r\n\tObject.defineProperty(VNode.prototype, 'props', {\r\n\t\tget() { return this.attributes; },\r\n\t\tset(v) { this.attributes = v; },\r\n\t\tconfigurable:true\r\n\t});\r\n}\r\n\r\nlet oldEventHook = options.event;\r\noptions.event = e => {\r\n\tif (oldEventHook) e = oldEventHook(e);\r\n\te.persist = Object;\r\n\te.nativeEvent = e;\r\n\treturn e;\r\n};\r\n\r\n\r\nlet oldVnodeHook = options.vnode;\r\noptions.vnode = vnode => {\r\n\tif (!vnode.preactCompatUpgraded) {\r\n\t\tvnode.preactCompatUpgraded = true;\r\n\r\n\t\tlet tag = vnode.nodeName,\r\n\t\t\tattrs = vnode.attributes = extend({}, vnode.attributes);\r\n\t\t\r\n\t\tif (isIE8) {\r\n\t\t\tvnode.type = tag;\r\n\t\t\tvnode.props = vnode.attributes;\r\n\t\t}\r\n\t\tif (typeof tag==='function') {\r\n\t\t\tif (tag[COMPONENT_WRAPPER_KEY]===true || (tag.prototype && 'isReactComponent' in tag.prototype)) {\r\n\t\t\t\tif (vnode.children && String(vnode.children)==='') vnode.children = undefined;\r\n\t\t\t\tif (vnode.children) attrs.children = vnode.children;\r\n\r\n\t\t\t\tif (!vnode.preactCompatNormalized) {\r\n\t\t\t\t\tnormalizeVNode(vnode);\r\n\t\t\t\t}\r\n\t\t\t\thandleComponentVNode(vnode);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (vnode.children && String(vnode.children)==='') vnode.children = undefined;\r\n\t\t\tif (vnode.children) attrs.children = vnode.children;\r\n\r\n\t\t\tif (attrs.defaultValue) {\r\n\t\t\t\tif (!attrs.value && attrs.value!==0) {\r\n\t\t\t\t\tattrs.value = attrs.defaultValue;\r\n\t\t\t\t}\r\n\t\t\t\tdelete attrs.defaultValue;\r\n\t\t\t}\r\n\r\n\t\t\thandleElementVNode(vnode, attrs);\r\n\t\t}\r\n\t}\r\n\r\n\tif (oldVnodeHook) oldVnodeHook(vnode);\r\n};\r\n\r\nfunction handleComponentVNode(vnode) {\r\n\tlet tag = vnode.nodeName,\r\n\t\ta = vnode.attributes;\r\n\r\n\tvnode.attributes = {};\r\n\tif (isIE8 && vnode.preactCompatUpgraded !== undefined) {\r\n\t\tvnode.props = vnode.attributes;\r\n\t}\r\n\tif (tag.defaultProps) extend(vnode.attributes, tag.defaultProps);\r\n\tif (a) extend(vnode.attributes, a);\r\n}\r\n\r\nfunction handleElementVNode(vnode, a) {\r\n\tlet shouldSanitize, attrs, i;\r\n\tif (a) {\r\n\t\tfor (i in a) if ((shouldSanitize = CAMEL_PROPS.test(i))) break;\r\n\t\tif (shouldSanitize) {\r\n\t\t\tattrs = vnode.attributes = {};\r\n\t\t\tfor (i in a) {\r\n\t\t\t\tif (a.hasOwnProperty(i)) {\r\n\t\t\t\t\tattrs[ CAMEL_PROPS.test(i) ? i.replace(/([A-Z0-9])/, '-$1').toLowerCase() : i ] = a[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n// proxy render() since React returns a Component reference.\r\nfunction render(vnode, parent, callback) {\r\n\tlet prev = parent && parent._preactCompatRendered && parent._preactCompatRendered.base;\r\n\r\n\t// ignore impossible previous renders\r\n\tif (prev && prev.parentNode!==parent) prev = null;\r\n\r\n\t// default to first Element child\r\n\tif (!prev && parent) prev = parent.firstElementChild;\r\n\r\n\t// remove unaffected siblings\r\n\tfor (let i=parent.childNodes.length; i--; ) {\r\n\t\tif (parent.childNodes[i]!==prev) {\r\n\t\t\tparent.removeChild(parent.childNodes[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tlet out = preactRender(vnode, parent, prev);\r\n\tif (parent) parent._preactCompatRendered = out && (out._component || { base: out });\r\n\tif (typeof callback==='function') callback();\r\n\treturn out && out._component || out;\r\n}\r\n\r\n\r\nclass ContextProvider {\r\n\tgetChildContext() {\r\n\t\treturn this.props.context;\r\n\t}\r\n\trender(props) {\r\n\t\treturn props.children[0];\r\n\t}\r\n}\r\n\r\nfunction renderSubtreeIntoContainer(parentComponent, vnode, container, callback) {\r\n\tlet wrap = h(ContextProvider, { context: parentComponent.context }, vnode);\r\n\tlet renderContainer = render(wrap, container);\r\n\tlet component = renderContainer._component || renderContainer.base;\r\n\tif (callback) callback.call(component, renderContainer);\r\n\treturn component;\r\n}\r\n\r\n\r\nfunction unmountComponentAtNode(container) {\r\n\tlet existing = container._preactCompatRendered && container._preactCompatRendered.base;\r\n\tif (existing && existing.parentNode===container) {\r\n\t\tpreactRender(h(EmptyComponent), container, existing);\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n\r\n\r\nconst ARR = [];\r\n\r\n// This API is completely unnecessary for Preact, so it's basically passthrough.\r\nlet Children = {\r\n\tmap(children, fn, ctx) {\r\n\t\tif (children == null) return null;\r\n\t\tchildren = Children.toArray(children);\r\n\t\tif (ctx && ctx!==children) fn = fn.bind(ctx);\r\n\t\treturn children.map(fn);\r\n\t},\r\n\tforEach(children, fn, ctx) {\r\n\t\tif (children == null) return null;\r\n\t\tchildren = Children.toArray(children);\r\n\t\tif (ctx && ctx!==children) fn = fn.bind(ctx);\r\n\t\tchildren.forEach(fn);\r\n\t},\r\n\tcount(children) {\r\n\t\treturn children && children.length || 0;\r\n\t},\r\n\tonly(children) {\r\n\t\tchildren = Children.toArray(children);\r\n\t\tif (children.length!==1) throw new Error('Children.only() expects only one child.');\r\n\t\treturn children[0];\r\n\t},\r\n\ttoArray(children) {\r\n\t\tif (children == null) return [];\r\n\t\treturn ARR.concat(children);\r\n\t}\r\n};\r\n\r\n\r\n/** Track current render() component for ref assignment */\r\nlet currentComponent;\r\n\r\n\r\nfunction createFactory(type) {\r\n\treturn createElement.bind(null, type);\r\n}\r\n\r\n\r\nlet DOM = {};\r\nfor (let i=ELEMENTS.length; i--; ) {\r\n\tDOM[ELEMENTS[i]] = createFactory(ELEMENTS[i]);\r\n}\r\n\r\nfunction upgradeToVNodes(arr, offset) {\r\n\tfor (let i=offset || 0; i<arr.length; i++) {\r\n\t\tlet obj = arr[i];\r\n\t\tif (Array.isArray(obj)) {\r\n\t\t\tupgradeToVNodes(obj);\r\n\t\t}\r\n\t\telse if (obj && typeof obj==='object' && !isValidElement(obj) && ((obj.props && obj.type) || (obj.attributes && obj.nodeName) || obj.children)) {\r\n\t\t\tarr[i] = createElement(obj.type || obj.nodeName, obj.props || obj.attributes, obj.children);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction isStatelessComponent(c) {\r\n\treturn typeof c==='function' && !(c.prototype && c.prototype.render);\r\n}\r\n\r\n\r\n// wraps stateless functional components in a PropTypes validator\r\nfunction wrapStatelessComponent(WrappedComponent) {\r\n\treturn createClass({\r\n\t\tdisplayName: WrappedComponent.displayName || WrappedComponent.name,\r\n\t\trender() {\r\n\t\t\treturn WrappedComponent(this.props, this.context);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nfunction statelessComponentHook(Ctor) {\r\n\tlet Wrapped = Ctor[COMPONENT_WRAPPER_KEY];\r\n\tif (Wrapped) return Wrapped===true ? Ctor : Wrapped;\r\n\r\n\tWrapped = wrapStatelessComponent(Ctor);\r\n\r\n\tObject.defineProperty(Wrapped, COMPONENT_WRAPPER_KEY, { configurable:true, value:true });\r\n\tWrapped.displayName = Ctor.displayName;\r\n\tWrapped.propTypes = Ctor.propTypes;\r\n\tWrapped.defaultProps = Ctor.defaultProps;\r\n\r\n\tObject.defineProperty(Ctor, COMPONENT_WRAPPER_KEY, { configurable:true, value:Wrapped });\r\n\r\n\treturn Wrapped;\r\n}\r\n\r\n\r\nfunction createElement(...args) {\r\n\tupgradeToVNodes(args, 2);\r\n\treturn normalizeVNode(h(...args));\r\n}\r\n\r\n\r\nfunction normalizeVNode(vnode) {\r\n\tvnode.preactCompatNormalized = true;\r\n\r\n\tapplyClassName(vnode);\r\n\r\n\tif (isStatelessComponent(vnode.nodeName)) {\r\n\t\tvnode.nodeName = statelessComponentHook(vnode.nodeName);\r\n\t}\r\n\r\n\tlet ref = vnode.attributes.ref,\r\n\t\ttype = ref && typeof ref;\r\n\tif (currentComponent && (type==='string' || type==='number')) {\r\n\t\tvnode.attributes.ref = createStringRefProxy(ref, currentComponent);\r\n\t}\r\n\r\n\tapplyEventNormalization(vnode);\r\n\r\n\treturn vnode;\r\n}\r\n\r\n\r\nfunction cloneElement(element, props, ...children) {\r\n\tif (!isValidElement(element)) return element;\r\n\tlet elementProps = element.attributes || element.props;\r\n\tlet node = h(\r\n\t\telement.nodeName || element.type,\r\n\t\telementProps,\r\n\t\telement.children || elementProps && elementProps.children\r\n\t);\r\n\t// Only provide the 3rd argument if needed.\r\n\t// Arguments 3+ overwrite element.children in preactCloneElement\r\n\tlet cloneArgs = [node, props];\r\n\tif (children && children.length) {\r\n\t\tcloneArgs.push(children);\r\n\t}\r\n\telse if (props && props.children) {\r\n\t\tcloneArgs.push(props.children);\r\n\t}\r\n\treturn normalizeVNode(preactCloneElement(...cloneArgs));\r\n}\r\n\r\n\r\nfunction isValidElement(element) {\r\n\treturn element && ((element instanceof VNode) || element.$$typeof===REACT_ELEMENT_TYPE);\r\n}\r\n\r\n\r\nfunction createStringRefProxy(name, component) {\r\n\treturn component._refProxies[name] || (component._refProxies[name] = resolved => {\r\n\t\tif (component && component.refs) {\r\n\t\t\tcomponent.refs[name] = resolved;\r\n\t\t\tif (resolved===null) {\r\n\t\t\t\tdelete component._refProxies[name];\r\n\t\t\t\tcomponent = null;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nfunction applyEventNormalization({ nodeName, attributes }) {\r\n\tif (!attributes || typeof nodeName!=='string') return;\r\n\tlet props = {};\r\n\tfor (let i in attributes) {\r\n\t\tprops[i.toLowerCase()] = i;\r\n\t}\r\n\tif (props.ondoubleclick) {\r\n\t\tattributes.ondblclick = attributes[props.ondoubleclick];\r\n\t\tdelete attributes[props.ondoubleclick];\r\n\t}\r\n\t// for *textual inputs* (incl textarea), normalize `onChange` -> `onInput`:\r\n\tif (props.onchange && !isIE8 && (nodeName==='textarea' || (nodeName.toLowerCase()==='input' && !/^fil|che|rad/i.test(attributes.type)))) {\r\n\t\tlet normalized = props.oninput || 'oninput';\r\n\t\tif (!attributes[normalized]) {\r\n\t\t\tattributes[normalized] = multihook([attributes[normalized], attributes[props.onchange]]);\r\n\t\t\tdelete attributes[props.onchange];\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nfunction applyClassName(vnode) {\r\n\tlet a = vnode.attributes || (vnode.attributes = {});\r\n\tclassNameDescriptor.enumerable = 'className' in a;\r\n\tif (a.className) a['class'] = a.className;\r\n\tif (!isIE8) {\r\n\t\tObject.defineProperty(a, 'className', classNameDescriptor);\r\n\t}\r\n}\r\n\r\n\r\nlet classNameDescriptor = {\r\n\tconfigurable: true,\r\n\tget() { return this['class']; },\r\n\tset(v) { this['class'] = v; }\r\n};\r\n\r\nfunction extend(base) {\r\n\tfor (let i=1, obj; i<arguments.length; i++) {\r\n\t\tif ((obj = arguments[i])) {\r\n\t\t\tfor (let key in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\t\tbase[key] = obj[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn base;\r\n}\r\n\r\n\r\nfunction shallowDiffers(a, b) {\r\n\tfor (let i in a) if (!(i in b)) return true;\r\n\tfor (let i in b) if (a[i]!==b[i]) return true;\r\n\treturn false;\r\n}\r\n\r\n\r\nfunction findDOMNode(component) {\r\n\treturn component && component.base || component;\r\n}\r\n\r\n\r\nfunction F(){}\r\n\r\nfunction createClass(obj) {\r\n\tfunction cl(props, context) {\r\n\t\tbindAll(this);\r\n\t\tComponent.call(this, props, context, BYPASS_HOOK);\r\n\t\tnewComponentHook.call(this, props, context);\r\n\t}\r\n\r\n\tobj = extend({ constructor: cl }, obj);\r\n\r\n\t// We need to apply mixins here so that getDefaultProps is correctly mixed\r\n\tif (obj.mixins) {\r\n\t\tapplyMixins(obj, collateMixins(obj.mixins));\r\n\t}\r\n\tif (obj.statics) {\r\n\t\textend(cl, obj.statics);\r\n\t}\r\n\tif (obj.propTypes) {\r\n\t\tcl.propTypes = obj.propTypes;\r\n\t}\r\n\tif (obj.defaultProps) {\r\n\t\tcl.defaultProps = obj.defaultProps;\r\n\t}\r\n\tif (obj.getDefaultProps) {\r\n\t\tcl.defaultProps = obj.getDefaultProps();\r\n\t}\r\n\r\n\tF.prototype = Component.prototype;\r\n\tcl.prototype = extend(new F(), obj);\r\n\r\n\tcl.displayName = obj.displayName || 'Component';\r\n\r\n\treturn cl;\r\n}\r\n\r\n\r\n// Flatten an Array of mixins to a map of method name to mixin implementations\r\nfunction collateMixins(mixins) {\r\n\tlet keyed = {};\r\n\tfor (let i=0; i<mixins.length; i++) {\r\n\t\tlet mixin = mixins[i];\r\n\t\tfor (let key in mixin) {\r\n\t\t\tif (mixin.hasOwnProperty(key) && typeof mixin[key]==='function') {\r\n\t\t\t\t(keyed[key] || (keyed[key]=[])).push(mixin[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn keyed;\r\n}\r\n\r\n\r\n// apply a mapping of Arrays of mixin methods to a component prototype\r\nfunction applyMixins(proto, mixins) {\r\n\tfor (let key in mixins) if (mixins.hasOwnProperty(key)) {\r\n\t\tproto[key] = multihook(\r\n\t\t\tmixins[key].concat(proto[key] || ARR),\r\n\t\t\tkey==='getDefaultProps' || key==='getInitialState' || key==='getChildContext'\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nfunction bindAll(ctx) {\r\n\tfor (let i in ctx) {\r\n\t\tlet v = ctx[i];\r\n\t\tif (typeof v==='function' && !v.__bound && !AUTOBIND_BLACKLIST.hasOwnProperty(i)) {\r\n\t\t\t(ctx[i] = v.bind(ctx)).__bound = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nfunction callMethod(ctx, m, args) {\r\n\tif (typeof m==='string') {\r\n\t\tm = ctx.constructor.prototype[m];\r\n\t}\r\n\tif (typeof m==='function') {\r\n\t\treturn m.apply(ctx, args);\r\n\t}\r\n}\r\n\r\nfunction multihook(hooks, skipDuplicates) {\r\n\treturn function() {\r\n\t\tlet ret;\r\n\t\tfor (let i=0; i<hooks.length; i++) {\r\n\t\t\tlet r = callMethod(this, hooks[i], arguments);\r\n\r\n\t\t\tif (skipDuplicates && r!=null) {\r\n\t\t\t\tif (!ret) ret = {};\r\n\t\t\t\tfor (let key in r) if (r.hasOwnProperty(key)) {\r\n\t\t\t\t\tret[key] = r[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (typeof r!=='undefined') ret = r;\r\n\t\t}\r\n\t\treturn ret;\r\n\t};\r\n}\r\n\r\n\r\nfunction newComponentHook(props, context) {\r\n\tpropsHook.call(this, props, context);\r\n\tthis.componentWillReceiveProps = multihook([propsHook, this.componentWillReceiveProps || 'componentWillReceiveProps']);\r\n\tthis.render = multihook([propsHook, beforeRender, this.render || 'render', afterRender]);\r\n}\r\n\r\n\r\nfunction propsHook(props) {\r\n\tif (!props) return;\r\n\r\n\t// React annoyingly special-cases single children, and some react components are ridiculously strict about this.\r\n\tlet c = props.children;\r\n\tif (c && Array.isArray(c) && c.length===1 && (typeof c[0]==='string' || typeof c[0]==='function' || c[0] instanceof VNode)) {\r\n\t\tprops.children = c[0];\r\n\r\n\t\t// but its totally still going to be an Array.\r\n\t\tif (props.children && typeof props.children==='object') {\r\n\t\t\tprops.children.length = 1;\r\n\t\t\tprops.children[0] = props.children;\r\n\t\t}\r\n\t}\r\n\r\n\t// add proptype checking\r\n\tif (DEV) {\r\n\t\tlet ctor = typeof this==='function' ? this : this.constructor,\r\n\t\t\tpropTypes = this.propTypes || ctor.propTypes;\r\n\t\tconst displayName = this.displayName || ctor.name;\r\n\r\n\t\tif (propTypes) {\r\n\t\t\tPropTypes.checkPropTypes(propTypes, props, 'prop', displayName);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nfunction beforeRender() {\r\n\tcurrentComponent = this;\r\n}\r\n\r\nfunction afterRender() {\r\n\tif (currentComponent===this) {\r\n\t\tcurrentComponent = null;\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction Component(props, context, opts) {\r\n\tPreactComponent.call(this, props, context);\r\n\tthis.state = this.getInitialState ? this.getInitialState() : {};\r\n\tthis.refs = {};\r\n\tthis._refProxies = {};\r\n\tif (opts!==BYPASS_HOOK) {\r\n\t\tnewComponentHook.call(this, props, context);\r\n\t}\r\n}\r\nextend(Component.prototype = new PreactComponent(), {\r\n\tconstructor: Component,\r\n\r\n\tisReactComponent: {},\r\n\r\n\treplaceState(state, callback) {\r\n\t\tthis.setState(state, callback);\r\n\t\tfor (let i in this.state) {\r\n\t\t\tif (!(i in state)) {\r\n\t\t\t\tdelete this.state[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetDOMNode() {\r\n\t\treturn this.base;\r\n\t},\r\n\r\n\tisMounted() {\r\n\t\treturn !!this.base;\r\n\t}\r\n});\r\n\r\n\r\n\r\nfunction PureComponent(props, context) {\r\n\tComponent.call(this, props, context);\r\n}\r\nF.prototype = Component.prototype;\r\nPureComponent.prototype = new F();\r\nPureComponent.prototype.isPureReactComponent = true;\r\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\r\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\r\n};\r\n\r\nexport {\r\n\tversion,\r\n\tDOM,\r\n\tPropTypes,\r\n\tChildren,\r\n\trender,\r\n\tcreateClass,\r\n\tcreateFactory,\r\n\tcreateElement,\r\n\tcloneElement,\r\n\tisValidElement,\r\n\tfindDOMNode,\r\n\tunmountComponentAtNode,\r\n\tComponent,\r\n\tPureComponent,\r\n\trenderSubtreeIntoContainer as unstable_renderSubtreeIntoContainer,\r\n\t// this is a really old hidden react api, but something out there uses it\r\n\t// https://twitter.com/Joseph_Wynn/status/888046593286574085\r\n\textend as __spread\r\n};\r\n\r\nexport default {\r\n\tversion,\r\n\tDOM,\r\n\tPropTypes,\r\n\tChildren,\r\n\trender,\r\n\tcreateClass,\r\n\tcreateFactory,\r\n\tcreateElement,\r\n\tcloneElement,\r\n\tisValidElement,\r\n\tfindDOMNode,\r\n\tunmountComponentAtNode,\r\n\tComponent,\r\n\tPureComponent,\r\n\tunstable_renderSubtreeIntoContainer: renderSubtreeIntoContainer,\r\n\t__spread: extend\r\n};\r\n"],"names":["inBrowser","window","UA","navigator","userAgent","toLowerCase","isIE8","indexOf","version","ELEMENTS","split","REACT_ELEMENT_TYPE","Symbol","COMPONENT_WRAPPER_KEY","AUTOBIND_BLACKLIST","CAMEL_PROPS","BYPASS_HOOK","DEV","process","env","NODE_ENV","EmptyComponent","VNode","h","constructor","prototype","$$typeof","preactCompatUpgraded","preactCompatNormalized","defineProperty","nodeName","v","attributes","oldEventHook","options","event","e","persist","Object","nativeEvent","oldVnodeHook","vnode","tag","attrs","extend","type","props","children","String","undefined","defaultValue","value","handleComponentVNode","a","defaultProps","handleElementVNode","shouldSanitize","i","test","hasOwnProperty","replace","render","parent","callback","prev","_preactCompatRendered","base","parentNode","firstElementChild","childNodes","length","removeChild","out","preactRender","_component","ContextProvider","getChildContext","context","renderSubtreeIntoContainer","parentComponent","container","wrap","renderContainer","component","call","unmountComponentAtNode","existing","ARR","Children","fn","ctx","toArray","bind","map","forEach","Error","concat","currentComponent","createFactory","createElement","DOM","upgradeToVNodes","arr","offset","obj","Array","isArray","isValidElement","isStatelessComponent","c","wrapStatelessComponent","WrappedComponent","createClass","displayName","name","statelessComponentHook","Ctor","Wrapped","configurable","propTypes","args","normalizeVNode","ref","createStringRefProxy","cloneElement","element","elementProps","node","cloneArgs","push","preactCloneElement","_refProxies","refs","resolved","applyEventNormalization","ondoubleclick","ondblclick","onchange","normalized","oninput","multihook","applyClassName","enumerable","className","classNameDescriptor","arguments","key","shallowDiffers","b","findDOMNode","F","cl","mixins","collateMixins","statics","getDefaultProps","Component","keyed","mixin","applyMixins","proto","bindAll","__bound","callMethod","m","apply","hooks","skipDuplicates","ret","r","newComponentHook","componentWillReceiveProps","propsHook","beforeRender","afterRender","ctor","checkPropTypes","opts","state","getInitialState","PreactComponent","setState","PureComponent","isPureReactComponent","shouldComponentUpdate"],"mappings":"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"}